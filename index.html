<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wolf TraVal | Ù„Ù„Ø³ÙŠØ§Ø­Ø© ÙˆØ§Ù„ØªØ±ÙÙŠÙ‡</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts (Cairo) -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #000; }
        .glass-nav { background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.1); z-index: 50; }
        .mobile-menu { transition: transform 0.3s ease-out; transform: translateX(-100%); left: 0; right: auto; }
        .mobile-menu.open { transform: translateX(0); }
        input[type="file"]::file-selector-button { margin-left: 0.5rem; background-color: #0d9488; color: white; border: 0; border-radius: 0.5rem; padding: 0.25rem 0.75rem; cursor: pointer; }
        .modal-header-fixed { position: sticky; top: 0; z-index: 10; background-color: rgba(31, 41, 55, 0.95); backdrop-filter: blur(5px); }
        .ltr { direction: ltr; }
    </style>
    
    <!-- Firebase & Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
        import { getFirestore, collection, addDoc, query, orderBy, Timestamp, onSnapshot, setDoc, doc, deleteDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";
        
        // ** Settings **
        const COMPANY_NAME = "Wolf TraVal";
        const ADMIN_PIN = "1032";
        const companyPhone = "201206244875"; 
        const FB_PAGE = "https://www.facebook.com/share/1EwRcGeCDs/"; 
        const CLOUD_NAME = "db9h7zm1h"; 
        const UPLOAD_PRESET = "souq_upload"; 
        const CLOUDINARY_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`;
        
        let isAdmin = false; 
        let tripsData = []; 
        let db, auth, isAuthReady = false; 
        let isEditing = false, editTripId = null, oldImageUrl = '';

        const firebaseConfig = {
          apiKey: "AIzaSyCTo8DhvaAmNtV9OIgY5eLOeVgF7iQqlYk",
          authDomain: "faculty-of-commerce-2025.firebaseapp.com",
          databaseURL: "https://faculty-of-commerce-2025-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "faculty-of-commerce-2025",
          storageBucket: "faculty-of-commerce-2025.firebasestorage.app",
          messagingSenderId: "312259778835",
          appId: "1:312259778835:web:504299bb2de918596b62e6",
          measurementId: "G-QJZB7E2D5R"
        };
        const dataPath = `artifacts/${firebaseConfig.projectId}/public/data/trips`; 

        // --- Notifications (Top Position) ---
        window.showNotification = function(msg, type) {
            const notif = document.createElement('div');
            // Ø¥Ø´Ø¹Ø§Ø± ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ (Top)
            notif.className = `fixed top-24 left-1/2 -translate-x-1/2 px-6 py-3 rounded-xl text-white shadow-2xl z-[100] transition-all duration-500 opacity-0 transform translate-y-[-20px] ${type === 'error' ? 'bg-red-600/90' : type === 'success' ? 'bg-green-600/90' : 'bg-gray-700/90'} backdrop-blur-md border border-white/10`;
            notif.innerHTML = msg;
            document.body.appendChild(notif);
            setTimeout(() => { notif.classList.remove('opacity-0', 'translate-y-[-20px]'); }, 50);
            setTimeout(() => { notif.classList.add('opacity-0', 'translate-y-[-20px]'); setTimeout(() => notif.remove(), 500); }, 4000);
        }

        async function uploadToCloudinary(file) {
            const formData = new FormData();
            formData.append('file', file);
            formData.append('upload_preset', UPLOAD_PRESET);
            try {
                const response = await fetch(CLOUDINARY_URL, { method: 'POST', body: formData });
                if (!response.ok) throw new Error("ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹");
                const data = await response.json();
                return data.secure_url; 
            } catch (error) { console.error(error); throw new Error("ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©"); }
        }

        // --- Admin Logic ---
        window.toggleAdminModal = function() {
            const modal = document.getElementById('adminPinModal');
            modal.classList.toggle('hidden'); modal.classList.toggle('flex');
            document.getElementById('pinInput').value = '';
        }
        window.checkAdminPin = function() {
            if (document.getElementById('pinInput').value === ADMIN_PIN) {
                isAdmin = true;
                toggleAdminModal();
                showNotification("âœ… Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ Ù…Ø¯ÙŠØ±ØŒ ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª", "success");
                document.getElementById('adminButtonContainer').classList.remove('hidden');
                document.getElementById('adminButtonContainer').classList.add('flex');
                document.getElementById('adminButtonContainerMobile').classList.remove('hidden');
                renderTrips(tripsData); 
            } else { showNotification("âŒ Ø§Ù„Ø±Ù…Ø² Ø®Ø·Ø£", "error"); }
            return false; 
        }
        
        // --- Init ---
        async function initApp() {
            const app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);
            try {
                await signInAnonymously(auth); 
                isAuthReady = true;
                document.getElementById('mobile-menu').style.top = `${document.querySelector('.glass-nav').offsetHeight}px`;
                listenForTrips();
                document.getElementById('companyName').textContent = COMPANY_NAME;
                document.getElementById('footerCompanyName').textContent = COMPANY_NAME;
            } catch (error) { showNotification("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„", "error"); }
        }
        
        // --- Listen ---
        function listenForTrips() {
            if (!isAuthReady) return; 
            const q = query(collection(db, dataPath), orderBy("createdAt", "desc")); 
            onSnapshot(q, (snapshot) => {
                const fetched = [];
                snapshot.forEach((doc) => fetched.push({ id: doc.id, ...doc.data() }));
                tripsData = fetched; 
                if (tripsData.length === 0) {
                    document.getElementById('trips-container').innerHTML = '<div class="col-span-full text-center text-gray-400 py-10">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>';
                    seedInitialData();
                } else { renderTrips(tripsData); }
            });
        }
        
        // --- Render ---
        function renderTrips(trips) {
            const container = document.getElementById('trips-container');
            container.innerHTML = ''; 
            trips.forEach((trip) => {
                const card = document.createElement('div');
                card.className = "w-full max-w-sm mx-auto bg-gray-900/90 border border-gray-700 rounded-2xl overflow-hidden shadow-xl shadow-teal-500/20 transition-all duration-300 transform group hover:-translate-y-1";
                const imageUrl = trip.mainImageUrl || 'https://via.placeholder.com/400x300';
                
                let remainingTime = '', isExpired = false;
                if (trip.departureDate) {
                    const diffMs = new Date(trip.departureDate) - new Date();
                    if (diffMs > 0) remainingTime = `${Math.floor(diffMs / (86400000))} ÙŠÙˆÙ… Ù…ØªØ¨Ù‚ÙŠ`;
                    else { remainingTime = 'Ø§Ù†ØªÙ‡Øª'; isExpired = true; }
                }

                const statusTag = trip.status === 'expired' ? `<div class="absolute top-4 left-4 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow-md z-10 animate-pulse">Ø§Ù†ØªÙ‡Øª ğŸ”¥</div>` : '';
                
                const adminControls = isAdmin ? `
                    <div class="flex flex-wrap justify-end gap-2 mb-3 border-b border-gray-700 pb-3">
                        <button onclick="deleteTrip('${trip.id}', '${trip.title}')" class="flex items-center gap-1 bg-red-900/30 text-red-400 hover:bg-red-900/50 px-2 py-1 rounded text-xs transition-colors"><i class="fas fa-trash-alt"></i> Ø­Ø°Ù</button>
                        <button onclick="prepareEditTrip('${trip.id}')" class="flex items-center gap-1 bg-blue-900/30 text-blue-400 hover:bg-blue-900/50 px-2 py-1 rounded text-xs transition-colors"><i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„</button>
                        <button onclick="toggleTripStatus('${trip.id}', '${trip.status === 'expired' ? 'active' : 'expired'}')" class="flex items-center gap-1 ${trip.status === 'expired' ? 'bg-green-900/30 text-green-400' : 'bg-yellow-900/30 text-yellow-400'} px-2 py-1 rounded text-xs transition-colors"><i class="fas ${trip.status === 'expired' ? 'fa-redo' : 'fa-ban'}"></i> ${trip.status === 'expired' ? 'ØªÙ†Ø´ÙŠØ·' : 'Ø¥Ù†Ù‡Ø§Ø¡'}</button>
                    </div>
                ` : '';

                card.innerHTML = `
                    <div class="relative h-56 overflow-hidden">
                        <img src="${imageUrl}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute top-4 right-4 bg-teal-600/90 text-white text-[10px] font-bold px-2 py-1 rounded shadow-md z-10">${trip.durationText || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>
                        ${statusTag}
                        <button onclick="shareTrip('${trip.title}', '?tripId=${trip.id}')" class="absolute bottom-4 right-4 bg-white text-gray-900 w-8 h-8 rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform"><i class="fas fa-share-alt"></i></button>
                    </div>
                    <div class="p-4 bg-gray-800 rounded-b-2xl"> 
                        ${adminControls}
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-lg font-bold text-white leading-tight">${trip.title}</h3>
                            <span class="text-teal-400 font-extrabold text-lg whitespace-nowrap">${trip.price} <span class="text-xs font-normal text-gray-400">Ø¬.Ù…</span></span>
                        </div>
                        <div class="text-gray-400 text-xs mb-4 line-clamp-2 h-8 leading-4">${trip.description}</div>
                        <div class="text-gray-400 text-[11px] border-t border-gray-700 pt-3 space-y-2">
                             <div class="flex justify-between"><span><i class="fas fa-calendar-alt ml-1 text-teal-500"></i> ${new Date(trip.departureDate).toLocaleDateString('ar-EG')}</span><span class="${isExpired ? 'text-red-500 font-bold' : 'text-yellow-500'}"><i class="fas fa-hourglass-half ml-1"></i> ${remainingTime}</span></div>
                             <div class="flex justify-between"><span><i class="fas fa-map-marker-alt ml-1 text-blue-500"></i> ${trip.location}</span><span><i class="fas fa-users ml-1 text-blue-500"></i> Ù…ØªØ§Ø­: ${trip.availableSeats || '0'}</span></div>
                        </div>
                        <button onclick="openBooking('${trip.title}', '${trip.code}', '${trip.price}')" class="w-full bg-gradient-to-r from-teal-600 to-blue-600 hover:from-teal-700 text-white font-bold py-2.5 px-4 rounded-xl shadow-lg mt-4 text-sm flex justify-center items-center gap-2 transition-transform active:scale-95"><i class="fab fa-whatsapp text-lg"></i> Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        window.shareTrip = async function(title, link) {
             try { await navigator.clipboard.writeText(window.location.origin + window.location.pathname + link); showNotification("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·", "success"); } 
             catch { showNotification("ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®", "error"); }
        }

        // --- Operations ---
        window.deleteTrip = async function(tripId, title) {
            if (!isAdmin) return;
            if (confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø±Ø­Ù„Ø© "${title}"ØŸ`)) {
                await deleteDoc(doc(db, dataPath, tripId));
                showNotification("ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­", "success");
            }
        }
        window.toggleTripStatus = async function(tripId, newStatus) {
            if (!isAdmin) return;
            await setDoc(doc(db, dataPath, tripId), { status: newStatus }, { merge: true });
            showNotification(newStatus === 'expired' ? "ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø±Ø­Ù„Ø© ÙƒÙ…Ù†ØªÙ‡ÙŠØ©" : "ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø±Ø­Ù„Ø©", "success");
        }
        window.prepareEditTrip = function(id) {
            if (!isAdmin) return;
            const trip = tripsData.find(t => t.id === id);
            isEditing = true; editTripId = id; oldImageUrl = trip.mainImageUrl || '';
            const modal = document.getElementById('addTripModal');
            modal.classList.remove('hidden'); modal.classList.add('flex');
            document.getElementById('modalTitle').textContent = "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø­Ù„Ø©";
            document.getElementById('submitBtn').innerHTML = `<i class="fas fa-save ml-1"></i> Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª`;
            // Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            document.getElementById('tripTitle').value = trip.title;
            document.getElementById('tripLocation').value = trip.location;
            document.getElementById('tripPrice').value = trip.price;
            document.getElementById('departureDate').value = trip.departureDate;
            document.getElementById('availableSeats').value = trip.availableSeats;
            document.getElementById('tripDesc').value = trip.description;
        }
        window.openBooking = function(title, code, price) {
            window.open(`https://wa.me/${companyPhone}?text=${encodeURIComponent(`Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£ÙˆØ¯ Ø­Ø¬Ø²: ${title} (Code: ${code})`)}`, '_blank');
        }

        // --- Submit ---
        window.handleTripSubmit = async function(event) {
            event.preventDefault();
            if (!isAdmin) return;
            const btn = document.getElementById('submitBtn');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...'; btn.disabled = true;

            const title = document.getElementById('tripTitle').value;
            const price = document.getElementById('tripPrice').value;
            const location = document.getElementById('tripLocation').value;
            const description = document.getElementById('tripDesc').value;
            const departureDate = document.getElementById('departureDate').value;
            const availableSeats = parseInt(document.getElementById('availableSeats').value) || 0;
            const nights = document.getElementById('nightsSelect').value === 'other' ? document.getElementById('nightsCustom').value : document.getElementById('nightsSelect').value;
            const days = document.getElementById('daysSelect').value === 'other' ? document.getElementById('daysCustom').value : document.getElementById('daysSelect').value;
            const durationText = `${days} Ø£ÙŠØ§Ù… / ${nights} Ù„ÙŠØ§Ù„ÙŠ`;

            const imageFile = document.getElementById('tripImageFile').files[0];
            let mainImageUrl = oldImageUrl;

            if (imageFile) {
                try { mainImageUrl = await uploadToCloudinary(imageFile); } 
                catch (e) { showNotification("ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©", "error"); btn.innerHTML = originalText; btn.disabled = false; return; }
            } else if (!isEditing && !imageFile) {
                 showNotification("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©", "error"); btn.innerHTML = originalText; btn.disabled = false; return;
            }

            try {
                if (isEditing) {
                    await updateDoc(doc(db, dataPath, editTripId), { title, price, location, description, departureDate, availableSeats, durationText, mainImageUrl });
                    showNotification("ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­", "success");
                } else {
                    const code = 'TRIP-' + Math.floor(1000 + Math.random() * 9000);
                    await addDoc(collection(db, dataPath), { title, price, location, description, departureDate, availableSeats, durationText, code, mainImageUrl, status: 'active', createdAt: Timestamp.now() });
                    showNotification("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­", "success");
                }
                closeTripModal();
            } catch (error) { showNotification("Ø­Ø¯Ø« Ø®Ø·Ø£", "error"); } 
            finally { btn.innerHTML = originalText; btn.disabled = false; }
        }

        // --- Seed Data ---
        let seedAttempted = false;
        async function seedInitialData() {
            if (!isAuthReady || seedAttempted) return;
            seedAttempted = true;
            const demoTrips = [
                { title: "Ø±Ø­Ù„Ø© Ø¯Ù‡Ø¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø©", price: "3500", location: "Ø¯Ù‡Ø¨", durationText: "4 Ø£ÙŠØ§Ù… / 3 Ù„ÙŠØ§Ù„ÙŠ", departureDate: new Date(Date.now() + 864000000).toISOString().slice(0, 16), availableSeats: 25, description: "Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø¨Ø­Ø± ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡.", mainImageUrl: "https://images.pexels.com/photos/3355788/pexels-photo-3355788.jpeg?auto=compress&cs=tinysrgb&w=600", code: "D1", status: 'active' },
                { title: "Ø³ÙØ§Ø±ÙŠ Ø³ÙŠÙˆØ©", price: "4200", location: "Ø³ÙŠÙˆØ©", durationText: "4 Ø£ÙŠØ§Ù… / 3 Ù„ÙŠØ§Ù„ÙŠ", departureDate: new Date(Date.now() + 1200000000).toISOString().slice(0, 16), availableSeats: 15, description: "ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø³ÙØ§Ø±ÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©.", mainImageUrl: "https://images.pexels.com/photos/4553618/pexels-photo-4553618.jpeg?auto=compress&cs=tinysrgb&w=600", code: "D2", status: 'active' },
                { title: "Ø§Ù„Ø£Ù‚ØµØ± ÙˆØ£Ø³ÙˆØ§Ù†", price: "8500", location: "Ø§Ù„Ø£Ù‚ØµØ±", durationText: "5 Ø£ÙŠØ§Ù… / 4 Ù„ÙŠØ§Ù„ÙŠ", departureDate: new Date(Date.now() + 2000000000).toISOString().slice(0, 16), availableSeats: 10, description: "Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø­Ø¶Ø§Ø±Ø©.", mainImageUrl: "https://images.pexels.com/photos/2088219/pexels-photo-2088219.jpeg?auto=compress&cs=tinysrgb&w=600", code: "D3", status: 'active' }
            ];
            for (const trip of demoTrips) { await addDoc(collection(db, dataPath), { ...trip, createdAt: Timestamp.now() }); }
            showNotification("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©", "success");
        }
        
        // --- Helpers ---
        window.toggleTripModal = function() {
            if (!isAdmin) { showNotification("ØºÙŠØ± Ù…ØµØ±Ø­", "error"); return; }
            isEditing = false; editTripId = null; oldImageUrl = '';
            const modal = document.getElementById('addTripModal');
            modal.classList.toggle('hidden'); modal.classList.toggle('flex');
            document.getElementById('addTripForm').reset();
            document.getElementById('modalTitle').textContent = "Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©";
            document.getElementById('submitBtn').innerHTML = "Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ø±Ø­Ù„Ø©";
        }
        window.closeTripModal = function() { document.getElementById('addTripModal').classList.add('hidden'); document.getElementById('addTripModal').classList.remove('flex'); isEditing = false; }
        window.toggleMobileMenu = function() { const menu = document.getElementById('mobile-menu'); menu.classList.toggle('open'); menu.classList.toggle('hidden'); }
        window.toggleCustomInput = function(selectId, customId) {
            const el = document.getElementById(customId);
            document.getElementById(selectId).value === 'other' ? (el.classList.remove('hidden'), el.required=true) : (el.classList.add('hidden'), el.required=false);
        }
        window.onload = initApp;
    </script>
</head>
<body class="bg-gray-900 min-h-screen relative text-gray-100 selection:bg-teal-500 selection:text-white">

    <div class="fixed inset-0 z-0">
        <img src="https://images.pexels.com/photos/2559941/pexels-photo-2559941.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-gray-900/70"></div> 
    </div>

    <div class="relative z-10 flex flex-col min-h-screen">
        
        <!-- Navbar -->
        <nav class="glass-nav sticky top-0">
            <div class="container mx-auto px-6 py-4 flex justify-between items-center">
                <button onclick="toggleAdminModal()" class="text-2xl font-black text-white flex items-center gap-2 hover:text-teal-400">
                    <i class="fas fa-plane-departure text-teal-400"></i> <span id="companyName">Wolf TraVal</span>
                </button>
                <div class="hidden md:flex items-center gap-6 text-sm font-semibold">
                    <a href="#" class="hover:text-teal-400">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    <a href="#trips-section" class="hover:text-teal-400">Ø§Ù„Ø±Ø­Ù„Ø§Øª</a>
                    <a href="${FB_PAGE}" target="_blank" class="hover:text-teal-400">ÙÙŠØ³Ø¨ÙˆÙƒ</a>
                </div>
                <div id="adminButtonContainer" class="hidden md:flex items-center">
                    <button onclick="toggleTripModal()" class="bg-white/10 hover:bg-white/20 border border-white/20 text-white px-4 py-2 rounded-lg text-sm">
                        <i class="fas fa-plus ml-1"></i> Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø©
                    </button>
                </div>
                <div class="md:hidden">
                     <button onclick="toggleMobileMenu()" class="text-white text-xl"><i class="fas fa-bars"></i></button>
                </div>
            </div>
        </nav>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="mobile-menu hidden fixed w-4/5 md:w-1/3 bg-gray-900/95 backdrop-blur-md z-40 p-6 shadow-2xl md:hidden">
            <div class="flex justify-between items-center mb-8">
                <span class="text-xl font-bold text-white">Wolf TraVal</span>
                <button onclick="toggleMobileMenu()" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
            </div>
            <nav class="flex flex-col space-y-4 text-lg">
                <a href="#" class="text-gray-200 hover:text-teal-400 border-b border-gray-700 pb-2" onclick="toggleMobileMenu()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#trips-section" class="text-gray-200 hover:text-teal-400 border-b border-gray-700 pb-2" onclick="toggleMobileMenu()">Ø§Ù„Ø±Ø­Ù„Ø§Øª</a>
                <a href="${FB_PAGE}" target="_blank" class="text-gray-200 hover:text-teal-400 pb-2" onclick="toggleMobileMenu()">ÙÙŠØ³Ø¨ÙˆÙƒ</a>
            </nav>
            <div id="adminButtonContainerMobile" class="mt-8 hidden">
                 <button onclick="toggleTripModal(); toggleMobileMenu();" class="w-full bg-teal-600 hover:bg-teal-700 text-white py-2 rounded-lg"><i class="fas fa-plus ml-1"></i> Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø©</button>
            </div>
        </div>

        <!-- Hero -->
        <header class="flex-grow flex items-center justify-center text-center px-4 py-16 md:py-20">
            <div class="max-w-3xl">
                <span class="inline-block py-1 px-3 rounded-full bg-teal-500/20 border border-teal-500/50 text-teal-300 text-sm font-bold mb-4 animate-pulse">Ø±Ø­Ù„Ø§Øª Ù…Ù…ØªØ¹Ø©ØŒ Ø°ÙƒØ±ÙŠØ§Øª Ù„Ø§ ØªÙÙ†Ø³Ù‰</span>
                <h1 class="text-3xl md:text-6xl lg:text-7xl font-black text-white mb-6 leading-snug">
                    ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© ØªØ¨Ø¯Ø£ <span class="text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-500">Ù…Ù† Ù‡Ù†Ø§</span>
                </h1>
                <p class="text-md md:text-lg text-gray-300 mb-8 max-w-2xl mx-auto">Ù†Ø­Ù† Ù†Ø¶Ù…Ù† Ù„Ùƒ Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ø³ÙØ± Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±. Ø§Ø³ØªÙƒØ´Ù Ù…Ø¬Ù…ÙˆØ¹Ø© Ø±Ø­Ù„Ø§ØªÙ†Ø§ Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠØ© Ø§Ù„Ø¢Ù†.</p>
                <a href="#trips-section" class="inline-block bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 px-10 rounded-full shadow-lg hover:scale-105 active:scale-95 transition-all">ØªØµÙØ­ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</a>
            </div>
        </header>

        <!-- Grid -->
        <section id="trips-section" class="py-20">
            <div class="container mx-auto px-6">
                <div class="flex justify-between items-end mb-12">
                    <div>
                        <h2 class="text-3xl font-bold text-white mb-2">Ø¬Ù…ÙŠØ¹ Ø±Ø­Ù„Ø§ØªÙ†Ø§ Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
                        <div class="h-1 w-20 bg-teal-500 rounded"></div>
                    </div>
                </div>
                <div id="trips-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-black/80 text-gray-400 py-10 border-t border-gray-800">
            <div class="container mx-auto px-6 text-center">
                <p class="mb-4 text-xl font-bold text-white" id="footerCompanyName">Wolf TraVal</p>
                <div class="flex justify-center gap-4">
                    <a href="https://wa.me/${companyPhone}" target="_blank" class="text-3xl hover:text-green-500"><i class="fab fa-whatsapp"></i></a>
                     <a href="${FB_PAGE}" target="_blank" class="text-3xl hover:text-blue-500"><i class="fab fa-facebook"></i></a>
                </div>
                <p class="text-sm mt-6">Â© 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ Wolf TraVal.</p>
            </div>
        </footer>

    </div>

    <!-- Admin Modal -->
    <div id="adminPinModal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-gray-800 border border-teal-500/50 w-full max-w-sm rounded-2xl shadow-2xl p-6">
            <h3 class="text-xl font-bold text-center text-white mb-4">Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„</h3>
            <form onsubmit="return checkAdminPin()" class="space-y-4">
                <input type="password" id="pinInput" maxlength="4" required class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white text-center text-2xl tracking-widest focus:outline-none focus:border-teal-500" placeholder="â€¢â€¢â€¢â€¢">
                <button type="submit" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 rounded-lg">Ø¯Ø®ÙˆÙ„</button>
                <button type="button" onclick="toggleAdminModal()" class="w-full text-gray-500 text-sm">Ø¥Ù„ØºØ§Ø¡</button>
            </form>
        </div>
    </div>

    <!-- Add/Edit Trip Modal (ØªÙ…Øª Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ØµÙ„ÙŠ Ù‡Ù†Ø§) -->
    <div id="addTripModal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4 overflow-y-auto">
        <div class="bg-gray-800 border border-gray-700 w-full md:max-w-xl md:my-8 rounded-none md:rounded-2xl shadow-2xl overflow-hidden h-full md:h-auto animate-[fadeIn_0.3s_ease-out] flex flex-col">
            
            <div class="modal-header-fixed p-4 border-b border-gray-700 flex justify-between items-center">
                <h3 id="modalTitle" class="text-xl font-bold text-white">Ø¥Ø¶Ø§ÙØ© Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
                <button onclick="closeTripModal()" class="text-gray-400 hover:text-white transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="addTripForm" onsubmit="handleTripSubmit(event)" class="p-4 md:p-6 space-y-4 md:space-y-6 overflow-y-auto">
                <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ÙˆÙ„) -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø­Ù„Ø©</label>
                        <input type="text" id="tripTitle" required class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500" placeholder="Ù…Ø«Ø§Ù„: Ø±Ø­Ù„Ø© Ø¯Ù‡Ø¨ 4 Ø£ÙŠØ§Ù…">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">Ø§Ù„Ù…ÙƒØ§Ù†</label>
                        <input type="text" id="tripLocation" required class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500" placeholder="Ù…Ø«Ø§Ù„: Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡">
                    </div>
                </div>

                <div class="grid grid-cols-2 lg:grid-cols-4 gap-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">Ø§Ù„Ø³Ø¹Ø± (Ø¬Ù†ÙŠØ©)</label>
                        <input type="number" id="tripPrice" required class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500" placeholder="3500">
                    </div>
                    <div class="col-span-2 lg:col-span-1">
                        <label class="block text-sm font-medium text-gray-400 mb-1">ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ø±Ø­Ù„Ø©</label>
                        <input type="datetime-local" id="departureDate" required class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500 text-left ltr">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ù…ØªØ§Ø­Ø©</label>
                        <input type="number" id="availableSeats" required class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500" placeholder="20">
                    </div>
                </div>
                
                 <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">ÙƒÙˆØ¯ Ø§Ù„Ø±Ø­Ù„Ø©</label>
                    <input type="text" readonly value="Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆÙ„ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-500 cursor-not-allowed">
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">Ø¹Ø¯Ø¯ Ù„ÙŠØ§Ù„ÙŠ Ø§Ù„Ø±Ø­Ù„Ø©</label>
                        <select id="nightsSelect" onchange="toggleCustomInput('nightsSelect', 'nightsCustom')" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500">
                            <option value="1">1 Ù„ÙŠÙ„Ø©</option>
                            <option value="2">2 Ù„ÙŠØ§Ù„ÙŠ</option>
                            <option value="3" selected>3 Ù„ÙŠØ§Ù„ÙŠ</option>
                            <option value="5">5 Ù„ÙŠØ§Ù„ÙŠ</option>
                            <option value="10">10 Ù„ÙŠØ§Ù„ÙŠ</option>
                            <option value="other">Ø£Ø®Ø±Ù‰ (Ø£Ø¯Ø®Ù„ ÙŠØ¯ÙˆÙŠØ§Ù‹)</option>
                        </select>
                        <input type="number" id="nightsCustom" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500 mt-2 hidden" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯ ÙŠØ¯ÙˆÙŠØ§Ù‹">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-400 mb-1">Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø±Ø­Ù„Ø©</label>
                        <select id="daysSelect" onchange="toggleCustomInput('daysSelect', 'daysCustom')" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500">
                            <option value="1">1 ÙŠÙˆÙ…</option>
                            <option value="2">2 Ø£ÙŠØ§Ù…</option>
                            <option value="4" selected>4 Ø£ÙŠØ§Ù…</option>
                            <option value="6">6 Ø£ÙŠØ§Ù…</option>
                            <option value="10">10 Ø£ÙŠØ§Ù…</option>
                            <option value="other">Ø£Ø®Ø±Ù‰ (Ø£Ø¯Ø®Ù„ ÙŠØ¯ÙˆÙŠØ§Ù‹)</option>
                        </select>
                         <input type="number" id="daysCustom" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500 mt-2 hidden" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯ ÙŠØ¯ÙˆÙŠØ§Ù‹">
                    </div>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-1">Ø§Ù„ÙˆØµÙ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                    <textarea id="tripDesc" required rows="3" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500" placeholder="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙˆØ§Ù„Ù…Ø²Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©..."></textarea>
                </div>

                <div class="bg-gray-900 p-4 rounded-xl border border-gray-700">
                    <h4 class="text-white font-bold mb-3"><i class="fas fa-upload ml-2"></i> Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h4>
                    <p class="text-xs text-gray-500 mb-3">Ø³ÙŠØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Cloudinary ÙˆØ­ÙØ¸ Ø±Ø§Ø¨Ø·Ù‡.</p>
                    <input type="file" id="tripImageFile" accept="image/*" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-teal-500 text-left ltr">
                </div>

                <button type="submit" id="submitBtn" class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 rounded-lg shadow-lg transition-colors mt-2">
                    Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ø±Ø­Ù„Ø©
                </button>
            </form>
        </div>
    </div>

</body>
</html>
